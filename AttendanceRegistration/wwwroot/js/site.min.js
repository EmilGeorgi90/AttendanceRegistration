function checkKey(){e=event||window.event;e.keyCode==="38"?console.log(this.parentNode.rowIndex):e.keyCode==="40"?console.log(this.parentNode.rowIndex):e.keyCode==="37"?console.log(this.parentNode.rowIndex):e.keyCode==="39"&&console.log(this.parentNode.rowIndex)}function Edit(){$.post("Attendance/Edit",$(this).serialize(),function(){})}function Attendance(n,t,i,r,u,f){var e=this;e.attendanceId=n;e.hours=t;e.dates=i;e.datesId=r;e.user=u;e.userId=f}function Person(n,t,i,r){var u=this;u.id=n;u.fullname=t;u.notes=r;u.attendances=ko.observableArray(ko.utils.arrayMap(i,function(n){return new Attendance(n.AttendanceId,n.Hours,new Date(n.Dates.ShcoolData).toLocaleString("DK",options),n.DatesId,n.User.Fullname,n.UserId)}))}function ForecastDetailCashFlowViewModel(n){var t=this;t.persons=ko.utils.arrayMap(n,function(n){return new Person(n.Id,n.Fullname,n.Attendances,n.Notes)})}var keys,options,json,mydata;DevExpress.viz.currentTheme("generic.light");$("#safeme").click(function(){$("table tbody tr").each(function(){var n=$("td",this);mydata.push({AttendanceId:$('input[name="id"]',n).val(),hours:$('input[name="Hours"]',n).val(),notes:$('input[name="noter"]',n).val()})});$.ajax({url:this.action,type:this.method,data:JSON.stringify(mydata),contentType:"application/json; charset=utf-8",success:function(n){var i=$(n),t=i.filter("#content").html();console.log(t);$("#content").html(t)},error:function(n){console.log(n)}})});keys={};options={day:"numeric",month:"numeric",year:"numeric"};json=document.getElementById("json").innerHTML;mydata=JSON.parse(json);$(function(){ko.applyBindings(new ForecastDetailCashFlowViewModel(mydata),document.getElementById("data"))});var something=new ForecastDetailCashFlowViewModel(mydata).persons,aids=new something[0].attendances,hours=aids[0].hours;console.log(something);$(document).on("click",".fullname",function(){function n(n){n.isVisible()?n.hide():n.show()}console.log($(this));var t={chartOptions:{size:{width:500},palette:"bright",dataSource:aids,series:[{argumentField:aids.user,valueField:"hours",label:{visible:!0,connector:{visible:!0,width:1}}}],title:"Area of Countries","export":{enabled:!0},onPointClick:function(t){var i=t.target;n(i)},onLegendClick:function(t){var i=t.target;n(t.component.getAllSeries()[0].getPointsByArg(i)[0])}}};ko.applyBindings(t,document.getElementById("chart-demo"))});